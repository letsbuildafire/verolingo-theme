{% extends 'collections/list.html.twig' %}
{% import 'macros/pages.twig' as page_macros %}

{% block classes "list--features#{ features.carousel ? ' list--carousel' : ''}" %}

{% set orientation = features.layout.orientation|default('full-width') %}
{% set per_row = (orientation == 'full-width') ? min(features.layout.per_row|default(1), features.items|count) : 1 %}

{% set title_size = features.format.title_size|defined('h5') %}

{% block items %}
    {% for feature in features.items %}
        {% set url = feature.link ? page_macros.pageUrl(page, feature.link) %}
        {% include 'types/feature.html.twig' with {
            'feature': feature,
            'title_size': title_size,
            'per_row': per_row,
            'url': url
        } %}
    {% endfor %}
{% endblock %}
